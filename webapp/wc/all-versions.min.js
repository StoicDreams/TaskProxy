"use strict";{const template='\n    <webui-button slot="tabs">Windows</webui-button>\n    <webui-flex gap="20" slot="content" theme="inherit" id="latest-windows">Loading Windows release data...</webui-flex>\n    <webui-button slot="tabs">Mac</webui-button>\n    <webui-flex gap="20" slot="content" theme="inherit" id="latest-mac">Loading Mac release data...</webui-flex>\n    <webui-button slot="tabs">Linux / Ubuntu</webui-button>\n    <webui-flex gap="20" slot="content" theme="inherit" id="latest-ubuntu">Loading Linux release data...</webui-flex>';function sortVersions(items){items.sort(((a,b)=>{let aVersion=a.version.split("."),bVersion=b.version.split(".");return aVersion[0]>bVersion[0]?-1:aVersion[0]<bVersion[0]?1:aVersion[1]>bVersion[1]?-1:aVersion[1]<bVersion[1]?1:aVersion[2]>bVersion[2]?-1:aVersion[2]<bVersion[2]?1:0}))}webui.define("app-all-versions",{constructor:t=>{t._title=webui.create("h2",{html:"Task Proxy Desktop Releases"}),t._tabs=webui.create("webui-tabs",{html:template,theme:"secondary",index:"1","transition-timing":"200","data-subscribe":"session-platform-tab-index:setTab"})},attr:["example"],attrChanged:(t,property,value)=>{property},connected:function(t){t.parentNode.insertBefore(t._title,t),t.parentNode.insertBefore(t._tabs,t),t.remove();let tabWin=t._tabs.querySelector("#latest-windows"),tabMac=t._tabs.querySelector("#latest-mac"),tabUbuntu=t._tabs.querySelector("#latest-ubuntu");function addTabContent(container,items,versions){sortVersions(items);let html="",version="0.0.0";items.forEach((item=>{version!=item.version&&("0.0.0"!=version&&(html=`${html}</webui-flex>`,versions[version]&&(html=`${html}<webui-content class="d-flex gap-1 flex-column" nest cache src="https://cdn.myfi.ws/apps/task-proxy/${versions[version]}"></webui-content>`),html=`${html}</webui-grid>`),version=item.version,html=`${html}<webui-button slot="tabs">${version}</webui-button><webui-grid columns="${versions[version]?"max-content ":""}1fr" gap="20" class="pa-3" slot="content" theme="inherit" id="latest-windows"><webui-flex column gap="20">`);let name=item.name.endsWith(".msi")?"Windows x64 MSI Installer":item.name.endsWith(".exe")?"Windows x64 EXE Installer":item.name.endsWith(".dmg")?"Mac DMG":item.name.endsWith(".deb")?"Linux amd64 DEB":item.name.endsWith(".AppImage")?"Linux amd64 AppImage":item.name;html=`${html}<a href="${item.file}">${name}</a>`})),"0.0.0"!=version&&(html=`${html}</webui-flex>`,versions[version]&&(html=`${html}<webui-content nest cache src="https://cdn.myfi.ws/apps/task-proxy/${versions[version]}"></webui-content>`),html=`${html}</webui-grid>`);let tabs=webui.create("webui-tabs",{html:html,theme:"tertiary",vertical:!0});container.innerHTML="",container.appendChild(tabs)}webui.fetchWithCache("https://cdn.myfi.ws/apps/task-proxy/apps.json",!0).then((json=>{addTabContent(tabWin,json.win,json.versions),addTabContent(tabMac,json.mac,json.versions),addTabContent(tabUbuntu,json.ubu,json.versions)}))},disconnected:function(t){}})}